<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Your Magical Kingdom</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;600;700&family=Dancing+Script:wght@400;700&family=Poppins:wght@300;400;500;600&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Poppins', sans-serif;
            color: #fff;
            overflow-x: hidden;
            background: #0a0a0a;
        }

        /* Preloader */
        .preloader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 25%, #0f3460 50%, #533483 75%, #7b2cbf 100%);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            transition: opacity 1s ease-out;
        }

        .preloader.fade-out {
            opacity: 0;
            pointer-events: none;
        }

        .preloader-content {
            text-align: center;
        }

        .preloader img {
            width: 300px;
            height: auto;
            border-radius: 20px;
        }

        .preloader-text {
            font-family: 'Dancing Script', cursive;
            font-size: 2.5rem;
            color: #ffd700;
            margin-top: 20px;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }

        /* Background */
        .bg-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -2;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 25%, #0f3460 50%, #533483 75%, #7b2cbf 100%);
        }

        .sky-lanterns-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.6;
            background-image: url('https://i.ibb.co/FbFB8kN3/472.gif');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
        }

        /* Top Fixed Lanterns */
        .top-lanterns {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 150px;
            z-index: 999;
            background-image: url('https://i.ibb.co/21rhT32R/giphy.gif');
            background-size: cover;
            background-position: top;
            background-repeat: no-repeat;
            pointer-events: none;
            opacity: 0.8;
        }

        /* Magical Navigation */
        .magical-nav {
            position: fixed;
            top: 50%;
            right: 30px;
            transform: translateY(-50%);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .nav-orb {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: linear-gradient(45deg, rgba(255, 215, 0, 0.3), rgba(255, 107, 107, 0.3));
            backdrop-filter: blur(15px);
            border: 2px solid rgba(255, 215, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .nav-orb:hover {
            transform: scale(1.2);
            box-shadow: 0 0 30px rgba(255, 215, 0, 0.6);
            border-color: #ffd700;
        }

        .nav-orb.active {
            background: linear-gradient(45deg, rgba(255, 215, 0, 0.6), rgba(255, 107, 107, 0.6));
            box-shadow: 0 0 40px rgba(255, 215, 0, 0.8);
            transform: scale(1.3);
        }

        .nav-orb::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.3), transparent);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .nav-orb:hover::before {
            opacity: 1;
        }

        .nav-orb span {
            font-size: 1.5rem;
            color: #ffd700;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
        }

        .nav-label {
            position: absolute;
            right: 70px;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(26, 26, 46, 0.9);
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            color: #ffd700;
            opacity: 0;
            pointer-events: none;
            transition: all 0.3s ease;
            white-space: nowrap;
            font-family: 'Cinzel', serif;
        }

        .nav-orb:hover .nav-label {
            opacity: 1;
            right: 80px;
        }

        /* Container for sections */
        .sections-container {
            position: relative;
            width: 100%;
            height: 100vh;
            overflow: hidden;
        }

        /* Sections */
        .section {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transform: translateX(100%);
            transition: all 0.8s cubic-bezier(0.4, 0, 0.2, 1);
            padding: 100px 50px;
        }

        .section.active {
            opacity: 1;
            transform: translateX(0);
        }

        .section.prev {
            transform: translateX(-100%);
        }

        .section-content {
            max-width: 1200px;
            text-align: center;
            z-index: 10;
        }

        /* Welcome Section */
        .welcome h1 {
            font-family: 'Dancing Script', cursive;
            font-size: 5rem;
            margin-bottom: 30px;
            background: linear-gradient(45deg, #ffd700, #ff6b6b, #4ecdc4, #ffd700);
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: gradientShift 4s ease-in-out infinite;
            text-shadow: 0 0 50px rgba(255, 215, 0, 0.5);
            line-height: 1.2;
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .welcome p {
            font-size: 1.4rem;
            margin-bottom: 40px;
            opacity: 0.9;
            line-height: 1.8;
            font-weight: 300;
        }

        .royal-button {
            display: inline-block;
            padding: 18px 45px;
            background: linear-gradient(45deg, #ff6b6b, #ffd700, #ff6b6b);
            background-size: 200% 200%;
            color: #1a1a2e;
            text-decoration: none;
            border-radius: 50px;
            font-weight: 600;
            font-size: 1.2rem;
            transition: all 0.4s ease;
            box-shadow: 0 15px 35px rgba(255, 107, 107, 0.4);
            position: relative;
            overflow: hidden;
            border: none;
            cursor: pointer;
            font-family: 'Cinzel', serif;
            animation: buttonGlow 2s ease-in-out infinite alternate;
        }

        @keyframes buttonGlow {
            0% { box-shadow: 0 15px 35px rgba(255, 107, 107, 0.4); }
            100% { box-shadow: 0 20px 45px rgba(255, 215, 0, 0.6); }
        }

        .royal-button:hover {
            transform: translateY(-5px) scale(1.05);
            background-position: 100% 0;
        }

        .royal-button::before {
            content: '✨';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            font-size: 2rem;
            transition: all 0.3s ease;
        }

        .royal-button:hover::before {
            transform: translate(-50%, -50%) scale(1);
        }

        /* Story Section */
        .story-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 40px;
            margin-top: 60px;
        }

        .story-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border-radius: 25px;
            padding: 40px;
            border: 2px solid rgba(255, 215, 0, 0.3);
            transition: all 0.4s ease;
            cursor: pointer;
            position: relative;
            overflow: hidden;
            text-align: center;
        }

        .story-card:hover {
            transform: translateY(-15px) rotateY(5deg);
            box-shadow: 0 25px 50px rgba(255, 215, 0, 0.3);
            border-color: #ffd700;
        }

        .story-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255, 215, 0, 0.1) 0%, transparent 70%);
            transform: scale(0);
            transition: transform 0.6s ease;
        }

        .story-card:hover::before {
            transform: scale(1);
        }

        .story-icon {
            font-size: 4rem;
            margin-bottom: 25px;
            display: block;
            animation: float 3s ease-in-out infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }

        .story-card h3 {
            font-family: 'Cinzel', serif;
            font-size: 1.8rem;
            margin-bottom: 20px;
            color: #ffd700;
            text-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
        }

        /* Magic Section */
        .magic-controls {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 30px;
            margin: 50px 0;
        }

        .magic-button {
            background: linear-gradient(45deg, #7b2cbf, #4ecdc4, #7b2cbf);
            background-size: 200% 200%;
            border: none;
            padding: 20px 25px;
            border-radius: 30px;
            color: white;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
            font-family: 'Cinzel', serif;
            font-weight: 500;
            animation: magicPulse 3s ease-in-out infinite;
        }

        @keyframes magicPulse {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .magic-button:hover {
            transform: scale(1.1) rotateZ(5deg);
            box-shadow: 0 15px 30px rgba(123, 44, 191, 0.4);
        }

        .magic-button::after {
            content: '✨';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0);
            font-size: 2rem;
            transition: all 0.3s ease;
        }

        .magic-button:hover::after {
            transform: translate(-50%, -50%) scale(1.5);
        }

        /* Contact Form */
        .royal-form {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(20px);
            border-radius: 30px;
            padding: 50px;
            border: 2px solid rgba(255, 215, 0, 0.3);
            max-width: 600px;
            margin: 0 auto;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .form-group {
            margin-bottom: 30px;
            text-align: left;
        }

        .form-group label {
            display: block;
            margin-bottom: 10px;
            color: #ffd700;
            font-family: 'Cinzel', serif;
            font-size: 1.1rem;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
        }

        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 15px 20px;
            border: 2px solid rgba(255, 215, 0, 0.3);
            border-radius: 15px;
            background: rgba(255, 255, 255, 0.1);
            color: #fff;
            font-size: 1rem;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #ffd700;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.3);
            transform: scale(1.02);
        }

        .form-group input::placeholder,
        .form-group textarea::placeholder {
            color: rgba(255, 255, 255, 0.6);
        }

        /* Interactive Elements */
        .sparkle {
            position: fixed;
            width: 6px;
            height: 6px;
            background: #ffd700;
            border-radius: 50%;
            pointer-events: none;
            z-index: 100;
            animation: sparkleAnim 2s linear forwards;
        }

        @keyframes sparkleAnim {
            0% {
                opacity: 0;
                transform: scale(0) rotate(0deg);
            }
            50% {
                opacity: 1;
                transform: scale(1) rotate(180deg);
            }
            100% {
                opacity: 0;
                transform: scale(0) rotate(360deg);
            }
        }

        .floating-heart {
            position: fixed;
            color: #ff6b6b;
            font-size: 2rem;
            pointer-events: none;
            z-index: 100;
            animation: floatUp 3s ease-out forwards;
        }

        @keyframes floatUp {
            0% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateY(-100px) scale(1.5);
            }
        }

        /* Tangled Style Lanterns */
        .tangled-lantern {
            position: fixed;
            width: 40px;
            height: 50px;
            background: radial-gradient(ellipse at center, #ffd700 0%, #ff8c42 50%, #ff6b6b 100%);
            border-radius: 20px 20px 40px 40px;
            box-shadow: 
                0 0 20px rgba(255, 215, 0, 0.8),
                inset 0 10px 20px rgba(255, 255, 255, 0.3),
                inset 0 -10px 20px rgba(0, 0, 0, 0.2);
            animation: floatLantern 12s ease-in-out infinite;
            z-index: 50;
        }

        .tangled-lantern::before {
            content: '';
            position: absolute;
            top: -8px;
            left: 50%;
            transform: translateX(-50%);
            width: 8px;
            height: 15px;
            background: #8b4513;
            border-radius: 4px;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.5);
        }

        .tangled-lantern::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 20px;
            height: 25px;
            background: radial-gradient(ellipse at center, rgba(255, 255, 255, 0.6) 0%, transparent 70%);
            border-radius: 50%;
        }

        @keyframes floatLantern {
            0%, 100% {
                transform: translateY(0px) translateX(0px) rotate(0deg);
                opacity: 0.8;
            }
            25% {
                transform: translateY(-30px) translateX(20px) rotate(2deg);
                opacity: 1;
            }
            50% {
                transform: translateY(-60px) translateX(-10px) rotate(-1deg);
                opacity: 0.9;
            }
            75% {
                transform: translateY(-30px) translateX(15px) rotate(1deg);
                opacity: 1;
            }
        }

        /* Wish Display */
        .wish-display {
            margin-top: 40px;
            padding: 30px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            border: 2px solid rgba(255, 215, 0, 0.3);
            font-size: 1.3rem;
            color: #ffd700;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            line-height: 1.6;
            font-style: italic;
        }

        /* Audio Controls */
        .audio-control {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: rgba(255, 215, 0, 0.2);
            backdrop-filter: blur(15px);
            border: 2px solid rgba(255, 215, 0, 0.5);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            z-index: 1000;
        }

        .audio-control:hover {
            background: rgba(255, 215, 0, 0.4);
            transform: scale(1.1);
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
        }

        .audio-control span {
            color: #ffd700;
            font-size: 1.5rem;
        }

        /* Section Headers */
        .section h2 {
            font-family: 'Cinzel', serif;
            font-size: 3.5rem;
            margin-bottom: 30px;
            color: #ffd700;
            text-shadow: 0 0 30px rgba(255, 215, 0, 0.5);
            text-align: center;
        }

        .section p {
            font-size: 1.3rem;
            line-height: 1.8;
            margin-bottom: 30px;
            opacity: 0.9;
            text-align: center;
            font-weight: 300;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .welcome h1 {
                font-size: 3.5rem;
            }
            
            .magical-nav {
                right: 15px;
            }
            
            .nav-orb {
                width: 50px;
                height: 50px;
            }
            
            .section {
                padding: 80px 20px;
            }
            
            .story-cards {
                grid-template-columns: 1fr;
            }
            
            .royal-form {
                padding: 30px 20px;
            }
            
            .section h2 {
                font-size: 2.5rem;
            }
        }
    </style>
</head>
<body>
    <!-- Preloader -->
    <div class="preloader" id="preloader">
        <div class="preloader-content">
            <img src="https://i.ibb.co/BVm99Q3V/La-Royaume.gif" alt="Kingdom Loading">
            <div class="preloader-text">Entering Your Kingdom...</div>
        </div>
    </div>

    <!-- Background Elements -->
    <div class="bg-container"></div>
    <div class="sky-lanterns-bg"></div>
    <div class="top-lanterns"></div>

    <!-- Background Music -->
    <audio id="bgMusic" loop>
        <source src="https://magdalena-pl.netlify.app/assets/audios/song.mp3" type="audio/mpeg">
    </audio>

    <!-- Audio Control -->
    <div class="audio-control" id="audioControl" onclick="toggleMusic()">
        <span id="audioIcon">🎵</span>
    </div>

    <!-- Magical Navigation -->
    <nav class="magical-nav">
        <div class="nav-orb active" onclick="showSection(0)" data-section="0">
            <span>🏰</span>
            <div class="nav-label">Royal Welcome</div>
        </div>
        <div class="nav-orb" onclick="showSection(1)" data-section="1">
            <span>📖</span>
            <div class="nav-label">Your Story</div>
        </div>
        <div class="nav-orb" onclick="showSection(2)" data-section="2">
            <span>✨</span>
            <div class="nav-label">Magic Realm</div>
        </div>
        <div class="nav-orb" onclick="showSection(3)" data-section="3">
            <span>💌</span>
            <div class="nav-label">Royal Messages</div>
        </div>
    </nav>

    <!-- Sections Container -->
    <div class="sections-container">
        <!-- Welcome Section -->
        <section class="section welcome active" id="section-0">
            <div class="section-content">
                <h1>Welcome to Your Magical Kingdom</h1>
                <p>Step into a realm where you are the beloved princess, where every star knows your name and every breeze carries your dreams. This is your enchanted sanctuary, crafted with love and filled with wonders that celebrate the amazing person you are.</p>
                <button class="royal-button" onclick="startJourney()">Begin Your Royal Journey</button>
            </div>
        </section>

        <!-- Story Section -->
        <section class="section" id="section-1">
            <div class="section-content">
                <h2>Your Royal Chronicles</h2>
                <p>Every princess has her own unique story of courage, kindness, and dreams. Discover the magical chapters that make you extraordinary.</p>
                
                <div class="story-cards">
                    <div class="story-card" onclick="openStoryModal('courage')">
                        <span class="story-icon">⚔️</span>
                        <h3>The Brave Heart</h3>
                        <p>Your courage shines brighter than any crown, facing every challenge with grace and determination.</p>
                    </div>
                    
                    <div class="story-card" onclick="openStoryModal('kindness')">
                        <span class="story-icon">💝</span>
                        <h3>The Golden Soul</h3>
                        <p>Your kindness is a superpower that makes the world more beautiful with every gentle word and caring gesture.</p>
                    </div>
                    
                    <div class="story-card" onclick="openStoryModal('dreams')">
                        <span class="story-icon">🌟</span>
                        <h3>Dreams Take Flight</h3>
                        <p>Like lanterns floating to the stars, your dreams illuminate the path to extraordinary possibilities.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Magic Section -->
        <section class="section" id="section-2">
            <div class="section-content">
                <h2>Royal Magic Realm</h2>
                <p>Every touch of yours creates magic in this kingdom. Cast spells, release lanterns, and let your royal presence enchant everything around you.</p>
                
                <div class="magic-controls">
                    <button class="magic-button" onclick="castSpell()">Cast Royal Spell ✨</button>
                    <button class="magic-button" onclick="releaseLanterns()">Release Lanterns 🏮</button>
                    <button class="magic-button" onclick="summonHearts()">Summon Love 💕</button>
                    <button class="magic-button" onclick="createAurora()">Paint the Sky 🌌</button>
                </div>

                <div class="wish-display" id="magicDisplay">
                    Click any magic button to see the wonders you can create...
                </div>
            </div>
        </section>

        <!-- Contact Section -->
        <section class="section" id="section-3">
            <div class="section-content">
                <h2>Royal Messages</h2>
                <p>Send a message to the royal court, share your thoughts, or simply leave a note in this magical kingdom.</p>
                
                <form class="royal-form" action="https://formspree.io/f/mjvqobge" method="POST">
                    <div class="form-group">
                        <label for="name">Your Royal Name</label>
                        <input type="text" id="name" name="name" placeholder="Princess..." required>
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Royal Email</label>
                        <input type="email" id="email" name="email" placeholder="your.royal.email@kingdom.com" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="subject">Message Subject</label>
                        <input type="text" id="subject" name="subject" placeholder="What's on your royal mind?">
                    </div>
                    
                    <div class="form-group">
                        <label for="message">Your Royal Message</label>
                        <textarea id="message" name="message" rows="5" placeholder="Share your thoughts, dreams, or simply say hello..." required></textarea>
                    </div>
                    
                    <button type="submit" class="royal-button">Send Royal Message 💌</button>
                </form>

                <div style="margin-top: 40px;">
                    <button class="magic-button" onclick="generateWish()">Receive a Royal Blessing 🌟</button>
                </div>

                <div class="wish-display" id="wishDisplay">
                    Your royal blessings will appear here...
                </div>
            </div>
        </section>
    </div>

    <script>
        let currentSection = 0;
        let musicPlaying = false;
        const bgMusic = document.getElementById('bgMusic');

        // Preloader
        window.addEventListener('load', () => {
            setTimeout(() => {
                document.getElementById('preloader').classList.add('fade-out');
                setTimeout(() => {
                    document.getElementById('preloader').style.display = 'none';
                    startInitialMagic();
                }, 1000);
            }, 3000);
        });

        // Initial magic effects
        function startInitialMagic() {
            createSparkles(10);
            setTimeout(() => releaseLanterns(), 1000);
            setTimeout(() => createSparkles(15), 2000);
        }

        // Section Navigation
        function showSection(sectionIndex) {
            const sections = document.querySelectorAll('.section');
            const navOrbs = document.querySelectorAll('.nav-orb');
            
            // Remove active classes
            sections.forEach(section => {
                section.classList.remove('active', 'prev');
            });
            navOrbs.forEach(orb => orb.classList.remove('active'));
            
            // Add classes based on direction
            sections[currentSection].classList.add('prev');
            sections[sectionIndex].classList.add('active');
            navOrbs[sectionIndex].classList.add('active');
            
            currentSection = sectionIndex;
            createSparkles(8);
        }

        function startJourney() {
            showSection(1);
            createSparkles(20);
        }

        // Music Control
        function toggleMusic() {
            const audioIcon = document.getElementById('audioIcon');
            
            if (musicPlaying) {
                bgMusic.pause();
                audioIcon.textContent = '🔇';
                musicPlaying = false;
            } else {
                bgMusic.play().catch(e => console.log('Audio play failed:', e));
                audioIcon.textContent = '🎵';
                musicPlaying = true;
            }
        }

        // Try to start music (browsers may block autoplay)
        setTimeout(() => {
            bgMusic.play().then(() => {
                musicPlaying = true;
            }).catch(e => {
                console.log('Autoplay blocked, user interaction required');
            });
        }, 4000);

        // Magic Functions
        function createSparkles(count = 10) {
            for (let i = 0; i < count; i++) {
                setTimeout(() => {
                    const sparkle = document.createElement('div');
                    sparkle.className = 'sparkle';
                    sparkle.style.left = Math.random() * 100 + 'vw';
                    sparkle.style.top = Math.random() * 100 + 'vh';
                    sparkle.style.background = ['#ffd700', '#ff6b6b', '#4ecdc4', '#7b2cbf'][Math.floor(Math.random() * 4)];
                    document.body.appendChild(sparkle);
                    
                    setTimeout(() => {
                        if (sparkle.parentNode) {
                            sparkle.parentNode.removeChild(sparkle);
                        }
                    }, 2000);
                }, i * 100);
            }
        }

        function createTangledLantern() {
            const lantern = document.createElement('div');
            lantern.className = 'tangled-lantern';
            lantern.style.left = Math.random() * 90 + 'vw';
            lantern.style.top = '100vh';
            lantern.style.animationDelay = Math.random() * 2 + 's';
            lantern.style.animationDuration = (8 + Math.random() * 4) + 's';
            document.body.appendChild(lantern);
            
            // Move lantern upward
            let position = window.innerHeight;
            const speed = 0.5 + Math.random() * 0.5;
            
            const moveInterval = setInterval(() => {
                position -= speed;
                lantern.style.top = position + 'px';
                
                if (position < -100) {
                    clearInterval(moveInterval);
                    if (lantern.parentNode) {
                        lantern.parentNode.removeChild(lantern);
                    }
                }
            }, 16);
        }

        function castSpell() {
            document.getElementById('magicDisplay').innerHTML = '✨ A shower of magical sparkles dances around you, Princess! ✨';
            createSparkles(25);
            setTimeout(() => createSparkles(15), 1000);
        }

        function releaseLanterns() {
            document.getElementById('magicDisplay').innerHTML = '🏮 Beautiful lanterns float toward the stars, carrying your hopes and dreams! 🏮';
            for (let i = 0; i < 5; i++) {
                setTimeout(() => createTangledLantern(), i * 800);
            }
        }

        function summonHearts() {
            document.getElementById('magicDisplay').innerHTML = '💕 Hearts full of love and joy float around your royal presence! 💕';
            for (let i = 0; i < 8; i++) {
                setTimeout(() => {
                    const heart = document.createElement('div');
                    heart.className = 'floating-heart';
                    heart.textContent = '💖';
                    heart.style.left = Math.random() * 90 + 'vw';
                    heart.style.top = '80vh';
                    document.body.appendChild(heart);
                    
                    setTimeout(() => {
                        if (heart.parentNode) {
                            heart.parentNode.removeChild(heart);
                        }
                    }, 3000);
                }, i * 400);
            }
        }

        function createAurora() {
            document.getElementById('magicDisplay').innerHTML = '🌌 You paint the sky with magical aurora lights! Your beauty rivals the northern lights! 🌌';
            const body = document.body;
            const originalBg = body.style.background;
            
            body.style.background = 'linear-gradient(135deg, #1a1a2e 0%, #4ecdc4 25%, #7b2cbf 50%, #ff6b6b 75%, #4ecdc4 100%)';
            createSparkles(30);
            
            setTimeout(() => {
                body.style.background = originalBg;
            }, 5000);
        }

        function generateWish() {
            const wishes = [
                "✨ May your days be filled with magic as endless as the stars above ✨",
                "🌟 May every step you take lead you to new adventures and joyful discoveries 🌟",
                "💫 May your heart always know how truly special and loved you are 💫",
                "⭐ May your dreams take flight like the most beautiful lanterns in the sky ⭐",
                "🌙 May happiness dance around you like golden moonbeams 🌙",
                "💖 May you always remember that you are braver than you believe and more magical than you imagine 💖",
                "🦋 May your spirit soar as freely as butterflies in an enchanted garden 🦋",
                "🌸 May love and laughter bloom in your life like the most beautiful flowers 🌸"
            ];
            
            const randomWish = wishes[Math.floor(Math.random() * wishes.length)];
            const display = document.getElementById('wishDisplay');
            
            display.style.opacity = '0';
            display.style.transform = 'scale(0.8)';
            
            setTimeout(() => {
                display.innerHTML = randomWish;
                display.style.transition = 'all 1s ease';
                display.style.opacity = '1';
                display.style.transform = 'scale(1)';
            }, 200);
            
            createSparkles(15);
            summonHearts();
        }

        // Story Modal Functions
        function openStoryModal(story) {
            const stories = {
                courage: {
                    title: "The Princess of Infinite Courage",
                    content: "In the royal chronicles, it is written that you possess a courage that shines brighter than any diamond in the crown jewels. Like the brave princesses of old, you face each day with a heart full of determination and grace. Your courage isn't just in the big moments—it's in every small act of kindness, every time you stand up for what's right, and every moment you choose to believe in yourself. The kingdom celebrates your brave spirit!"
                },
                kindness: {
                    title: "The Heart That Lights Up the World",
                    content: "Your kindness is legendary throughout the realm, dear Princess. Like a magical spell, your gentle words and caring actions transform everything around you. You have the rare gift of making others feel valued and loved, just by being yourself. Your compassion creates ripples of joy that travel far beyond what you can see, touching hearts and inspiring others to spread kindness too. You are a beacon of light in this world!"
                },
                dreams: {
                    title: "Where Dreams Touch the Stars",
                    content: "High in the royal tower of your heart, your dreams shine like the most beautiful constellation. Each aspiration you hold is a lantern floating toward the heavens, carrying with it the power to light up not just your own path, but to inspire others to dream boldly too. Your dreams are valid, beautiful, and absolutely achievable. Like Rapunzel's floating lanterns, they will guide you to magical places you've yet to discover!"
                }
            };
            
            const currentStory = stories[story];
            alert(`${currentStory.title}\n\n${currentStory.content}`);
            createSparkles(20);
        }

        // Continuous lantern creation
        setInterval(() => {
            if (Math.random() < 0.3) {
                createTangledLantern();
            }
        }, 3000);

        // Mouse interaction sparkles
        let lastSparkleTime = 0;
        document.addEventListener('mousemove', (e) => {
            const now = Date.now();
            if (now - lastSparkleTime > 500) {
                if (Math.random() < 0.1) {
                    const sparkle = document.createElement('div');
                    sparkle.className = 'sparkle';
                    sparkle.style.left = e.clientX + 'px';
                    sparkle.style.top = e.clientY + 'px';
                    sparkle.style.position = 'fixed';
                    sparkle.style.pointerEvents = 'none';
                    document.body.appendChild(sparkle);
                    
                    setTimeout(() => {
                        if (sparkle.parentNode) {
                            sparkle.parentNode.removeChild(sparkle);
                        }
                    }, 2000);
                    
                    lastSparkleTime = now;
                }
            }
        });

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' || e.key === 'ArrowDown') {
                const nextSection = (currentSection + 1) % 4;
                showSection(nextSection);
            } else if (e.key === 'ArrowLeft' || e.key === 'ArrowUp') {
                const prevSection = (currentSection - 1 + 4) % 4;
                showSection(prevSection);
            }
        });

        // Form enhancement
        document.querySelector('.royal-form').addEventListener('submit', function(e) {
            createSparkles(20);
            setTimeout(() => {
                alert('Your royal message has been sent! ✨💌');
            }, 500);
        });
    </script>
</body>
</html>
